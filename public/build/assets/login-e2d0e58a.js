import{a as f}from"./index-62da23e9.js";import{_ as b,f as v,b as s,a as i,w as l,e as a,t as d,r as n,o as w,s as x}from"../js/app2.js";const y="/build/icons/profile-img.png",k="/build/icons/logo.svg",V={data(){return{auth:{email:"",password:""},profileImg:y,logo:k,processing:!1,authError:null,isAuthError:!1}},beforeCreate(){localStorage.getItem("user")&&this.$router.push("/")},methods:{async login(){this.processing=!0,await f.post("/api/login",this.auth).then(({data:e})=>{if(e.success==!0&&e.message=="success"){const o={login:!0,user_id:e.data.id,name:e.data.name,email:e.data.email};localStorage.setItem("user",JSON.stringify(o)),this.$router.push("/")}else e.data==400&&(this.authError=e.message,this.isAuthError=!0)}).catch(({response:{data:e}})=>{console.log(e)}).finally(()=>{this.processing=!1})}}},E={class:"account-pages my-5 pt-5"},S={class:"container"},C={class:"row justify-content-center"},I={class:"col-md-8 col-lg-6 col-xl-5"},j={class:"card overflow-hidden"},A={class:"bg-soft bg-primary"},N={class:"row"},B=s("div",{class:"col-7"},[s("div",{class:"text-primary p-4"},[s("p",null,"Inicie sesión en CRAH")])],-1),D={class:"col-5 align-self-end"},P=["src"],T={class:"card-body pt-0"},U={class:"avatar-md profile-user-wid mb-4"},F={class:"avatar-title rounded-circle bg-light"},O=["src"],R={class:"mt-3 d-grid"},z=["disabled"],H=s("div",{class:"mt-4 text-center"},[s("h5",{class:"font-size-14 mb-3"},"Sign in with"),s("ul",{class:"list-inline"},[s("li",{class:"list-inline-item"},[s("a",{href:"javascript: void(0);",class:"social-list-item bg-primary text-white border-primary"},[s("i",{class:"mdi mdi-facebook"})])]),s("li",{class:"list-inline-item"},[s("a",{href:"javascript: void(0);",class:"social-list-item bg-info text-white border-info"},[s("i",{class:"mdi mdi-twitter"})])]),s("li",{class:"list-inline-item"},[s("a",{href:"javascript: void(0);",class:"social-list-item bg-danger text-white border-danger"},[s("i",{class:"mdi mdi-google"})])])])],-1),J={class:"mt-4 text-center"},Y=s("i",{class:"mdi mdi-lock mr-1"},null,-1),q={class:"mt-5 text-center"},G=s("i",{class:"mdi mdi-heart text-danger"},null,-1);function K(e,o,L,M,t,m){const c=n("router-link"),_=n("b-alert"),u=n("b-form-input"),p=n("b-form-group"),h=n("b-form-checkbox"),g=n("b-form");return w(),v("div",E,[s("div",S,[s("div",C,[s("div",I,[s("div",j,[s("div",A,[s("div",N,[B,s("div",D,[s("img",{src:t.profileImg,alt:"",class:"img-fluid"},null,8,P)])])]),s("div",T,[s("div",null,[i(c,{to:"/"},{default:l(()=>[s("div",U,[s("span",F,[s("img",{src:t.logo,alt:"",height:"34"},null,8,O)])])]),_:1})]),i(_,{modelValue:t.isAuthError,"onUpdate:modelValue":o[0]||(o[0]=r=>t.isAuthError=r),variant:"danger",class:"mt-3",dismissible:""},{default:l(()=>[a(d(t.authError),1)]),_:1},8,["modelValue"]),i(g,{class:"p-2",action:"javascript:void(0)",method:"POST"},{default:l(()=>[x(e.$slots,"default"),i(p,{id:"input-group-1",label:"Email","label-for":"input-1",class:"mb-3"},{default:l(()=>[i(u,{id:"input-1",name:"email",modelValue:t.auth.email,"onUpdate:modelValue":o[1]||(o[1]=r=>t.auth.email=r),type:"text",placeholder:"Enter email"},null,8,["modelValue"])]),_:1}),i(p,{id:"input-group-2",label:"Password","label-for":"input-2",class:"mb-3"},{default:l(()=>[i(u,{id:"input-2",modelValue:t.auth.password,"onUpdate:modelValue":o[2]||(o[2]=r=>t.auth.password=r),name:"password",type:"password",placeholder:"Enter password"},null,8,["modelValue"])]),_:1}),i(h,{id:"customControlInline",name:"checkbox-1",value:"accepted","unchecked-value":"not_accepted"},{default:l(()=>[a(" Remember me ")]),_:1}),s("div",R,[s("button",{type:"submit",disabled:t.processing,onClick:o[3]||(o[3]=(...r)=>m.login&&m.login(...r)),class:"btn btn-primary btn-block"},d(t.processing?"Please wait":"Ingresar"),9,z)]),H,s("div",J,[i(c,{to:"/forget-password",class:"text-muted"},{default:l(()=>[Y,a(" Forgot your password? ")]),_:1})])]),_:3})])]),s("div",q,[s("p",null,[a(" Don't have an account ? "),i(c,{to:"/auth/register",class:"fw-medium text-primary"},{default:l(()=>[a("Signup now")]),_:1})]),s("p",null,[a(" © "+d(new Date().getFullYear())+" Skote. Crafted with ",1),G,a(" by Themesbrand ")])])])])])])}const X=b(V,[["render",K]]);export{X as default};
