import{i as C,j as m,I as x,k as Y,W as L,e as S,d as w,q as $,Z as I,$ as _,A as X,u as Se,R as Ee,F as fe,G as N,a0 as ye,D as _e,s as q,a1 as M,S as J,O as Q,P as ee,o as O,_ as Le,w as G,r as D,a as f,c as Ie,f as Ke}from"../js/app2.js";import{L as Ve}from"./main-e24c86ad.js";import{P as Re}from"./page-header-c6b63424.js";import"./logo-light-deb27e23.js";import"./logo-9faa3827.js";import"./avatar-1-15b743f1.js";let K=Symbol("map"),V=Symbol("api"),ke=Symbol("marker"),Ce=Symbol("markerCluster"),B=Symbol("CustomMarker"),we=Symbol("mapTilesLoaded"),E="click dblclick drag dragend dragstart mousedown mousemove mouseout mouseover mouseup rightclick".split(" ");var De=function i(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var o;if(Array.isArray(e)){var r=e.length;if(r!=t.length)return!1;for(o=r;o--!==0;)if(!i(e[o],t[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var s=Object.keys(e);if(r=s.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[o]))return!1;for(o=r;o--!==0;)if(r=s[o],!i(e[r],t[r]))return!1;return!0}return e!==e&&t!==t};class b{constructor({apiKey:e,channel:t,client:o,id:r="__googleMapsScriptId",libraries:s=[],language:u,region:l,version:c,mapIds:n,nonce:a,retries:p=3,url:d="https://maps.googleapis.com/maps/api/js"}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.loading=this.done=!1,this.errors=[],this.version=c,this.apiKey=e,this.channel=t,this.client=o,this.id=r||"__googleMapsScriptId",this.libraries=s,this.language=u,this.region=l,this.mapIds=n,this.nonce=a,this.retries=p,this.url=d,b.instance){if(!De(this.options,b.instance.options))throw Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(b.instance.options)}`);return b.instance}b.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url}}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+=`?callback=${this.CALLBACK}`,this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),0<this.libraries.length&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),e}deleteScript(){let e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(o=>{o?t(o.error):e(window.google)})})}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){if(document.getElementById(this.id))this.callback();else{var e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}}reset(){this.deleteScript(),this.loading=this.done=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){this.errors.push(e),this.errors.length<=this.retries?(e=this.errors.length*Math.pow(2,this.errors.length),console.log(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},e)):(this.onerrorEvent=e,this.callback())}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){this.resetIfRetryingFailed(),this.done?this.callback():window.google&&window.google.maps&&window.google.maps.version?(console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback()):this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}function Te(i){return class extends i.OverlayView{constructor(e){super();let{element:t,...o}=e;this.element=t,this.opts=o,this.opts.map&&this.setMap(this.opts.map)}getPosition(){return this.opts.position?this.opts.position instanceof i.LatLng?this.opts.position:new i.LatLng(this.opts.position):null}getVisible(){if(!this.element)return!1;let e=this.element;return e.style.display!=="none"&&e.style.visibility!=="hidden"&&(e.style.opacity===""||.01<Number(e.style.opacity))}onAdd(){if(this.element){var e=this.getPanes();e&&e.overlayMouseTarget.appendChild(this.element)}}draw(){if(this.element){var e=this.getProjection().fromLatLngToDivPixel(this.getPosition());if(e){this.element.style.position="absolute";let o=this.element.offsetHeight;var t=this.element.offsetWidth;switch(this.opts.anchorPoint){case"TOP_CENTER":t=e.x-t/2,e=e.y;break;case"BOTTOM_CENTER":t=e.x-t/2,e=e.y-o;break;case"LEFT_CENTER":t=e.x,e=e.y-o/2;break;case"RIGHT_CENTER":t=e.x-t,e=e.y-o/2;break;case"TOP_LEFT":t=e.x,e=e.y;break;case"TOP_RIGHT":t=e.x-t,e=e.y;break;case"BOTTOM_LEFT":t=e.x,e=e.y-o;break;case"BOTTOM_RIGHT":t=e.x-t,e=e.y-o;break;default:t=e.x-t/2,e=e.y-o/2}this.element.style.left=t+"px",this.element.style.top=e+"px",this.element.style.transform=`translateX(${this.opts.offsetX||0}px) translateY(${this.opts.offsetY||0}px)`,this.opts.zIndex&&(this.element.style.zIndex=this.opts.zIndex.toString())}}}onRemove(){this.element&&this.element.remove()}setOptions(e){this.opts=e,this.draw()}}}let le,ne="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed".split(" ");var te=C({props:{apiPromise:{type:Promise},apiKey:{type:String,default:""},version:{type:String,default:"weekly"},libraries:{type:Array,default:()=>["places"]},region:{type:String,required:!1},language:{type:String,required:!1},backgroundColor:{type:String,required:!1},center:{type:Object,default:()=>({lat:0,lng:0})},clickableIcons:{type:Boolean,required:!1,default:void 0},controlSize:{type:Number,required:!1},disableDefaultUi:{type:Boolean,required:!1,default:void 0},disableDoubleClickZoom:{type:Boolean,required:!1,default:void 0},draggable:{type:Boolean,required:!1,default:void 0},draggableCursor:{type:String,required:!1},draggingCursor:{type:String,required:!1},fullscreenControl:{type:Boolean,required:!1,default:void 0},fullscreenControlPosition:{type:String,required:!1},gestureHandling:{type:String,required:!1},heading:{type:Number,required:!1},keyboardShortcuts:{type:Boolean,required:!1,default:void 0},mapTypeControl:{type:Boolean,required:!1,default:void 0},mapTypeControlOptions:{type:Object,required:!1},mapTypeId:{type:[Number,String],required:!1},mapId:{type:String,required:!1},maxZoom:{type:Number,required:!1},minZoom:{type:Number,required:!1},noClear:{type:Boolean,required:!1,default:void 0},panControl:{type:Boolean,required:!1,default:void 0},panControlPosition:{type:String,required:!1},restriction:{type:Object,required:!1},rotateControl:{type:Boolean,required:!1,default:void 0},rotateControlPosition:{type:String,required:!1},scaleControl:{type:Boolean,required:!1,default:void 0},scaleControlStyle:{type:Number,required:!1},scrollwheel:{type:Boolean,required:!1,default:void 0},streetView:{type:Object,required:!1},streetViewControl:{type:Boolean,required:!1,default:void 0},streetViewControlPosition:{type:String,required:!1},styles:{type:Array,required:!1},tilt:{type:Number,required:!1},zoom:{type:Number,required:!1},zoomControl:{type:Boolean,required:!1,default:void 0},zoomControlPosition:{type:String,required:!1}},emits:ne,setup(i,{emit:e}){let t=m(),o=m(!1),r=m(),s=m(),u=m(!1);q(K,r),q(V,s),q(we,u);let l=()=>{const a={...i};Object.keys(a).forEach(d=>{a[d]===void 0&&delete a[d]});var p=d=>{var h;return d?{position:(h=s.value)===null||h===void 0?void 0:h.ControlPosition[d]}:{}};return p={scaleControlOptions:i.scaleControlStyle?{style:i.scaleControlStyle}:{},panControlOptions:p(i.panControlPosition),zoomControlOptions:p(i.zoomControlPosition),rotateControlOptions:p(i.rotateControlPosition),streetViewControlOptions:p(i.streetViewControlPosition),fullscreenControlOptions:p(i.fullscreenControlPosition),disableDefaultUI:i.disableDefaultUi},{...a,...p}},c=x([s,r],([a,p])=>{a&&p&&(a.event.addListenerOnce(p,"tilesloaded",()=>{u.value=!0}),setTimeout(c,0))},{immediate:!0}),n=a=>{s.value=M(a.maps),r.value=M(new a.maps.Map(t.value,l())),a=Te(s.value),s.value[B]=a,ne.forEach(p=>{var d;(d=r.value)===null||d===void 0||d.addListener(p,h=>e(p,h))}),o.value=!0,a=Object.keys(i).filter(p=>!"apiPromise apiKey version libraries region language center zoom".split(" ").includes(p)).map(p=>I(i,p)),x([()=>i.center,()=>i.zoom,...a],([p,d],[h,g])=>{var v,y,k;const{center:se,zoom:F,...Pe}=l();(v=r.value)===null||v===void 0||v.setOptions(Pe),d!==void 0&&d!==g&&((y=r.value)===null||y===void 0||y.setZoom(d)),d=!h||p.lng!==h.lng||p.lat!==h.lat,p&&d&&((k=r.value)===null||k===void 0||k.panTo(p))})};return Y(()=>{if(i.apiPromise&&i.apiPromise instanceof Promise)i.apiPromise.then(n);else{try{const{apiKey:a,region:p,version:d,language:h,libraries:g}=i;le=new b({apiKey:a,region:p,version:d,language:h,libraries:g})}catch(a){console.error(a)}le.load().then(n)}}),L(()=>{var a;u.value=!1,r.value&&((a=s.value)===null||a===void 0||a.event.clearInstanceListeners(r.value))}),{mapRef:t,ready:o,map:r,api:s,mapTilesLoaded:u}}});function oe(i,e){if(e===void 0&&(e={}),e=e.insertAt,i&&typeof document<"u"){var t=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",e==="top"&&t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o),o.styleSheet?o.styleSheet.cssText=i:o.appendChild(document.createTextNode(i))}}oe(`
.mapdiv[data-v-177d06e3] {
  width: 100%;
  height: 100%;
}
`);let qe=J();Q("data-v-177d06e3");let je={ref:"mapRef",class:"mapdiv"};ee();let ze=qe(i=>(O(),S("div",null,[w("div",je,null,512),$(i.$slots,"default",{ready:i.ready,map:i.map,api:i.api,mapTilesLoaded:i.mapTilesLoaded},void 0,!0)])));te.render=ze;te.__scopeId="data-v-177d06e3";var z=function i(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var o;if(Array.isArray(e)){var r=e.length;if(r!=t.length)return!1;for(o=r;o--!==0;)if(!i(e[o],t[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var s=Object.keys(e);if(r=s.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[o]))return!1;for(o=r;o--!==0;)if(r=s[o],!i(e[r],t[r]))return!1;return!0}return e!==e&&t!==t};let R=(i,e,t,o)=>{const r=m(),s=_(K,m()),u=_(V,m()),l=_(Ce,m()),c=N(()=>!!(l.value&&u.value&&(r.value instanceof u.value.Marker||r.value instanceof u.value[B])));return x([s,t],(n,[a,p])=>{var d,h,g;n=!z(t.value,p)||s.value!==a,s.value&&u.value&&n&&(r.value?(r.value.setOptions(t.value),c.value&&((d=l.value)===null||d===void 0||d.removeMarker(r.value),(h=l.value)===null||h===void 0||h.addMarker(r.value))):(r.value=i==="Marker"?M(new u.value[i](t.value)):i===B?M(new u.value[i](t.value)):M(new u.value[i]({...t.value,map:s.value})),c.value?(g=l.value)===null||g===void 0||g.addMarker(r.value):r.value.setMap(s.value),e.forEach(v=>{var y;(y=r.value)===null||y===void 0||y.addListener(v,k=>o(v,k))})))},{immediate:!0}),L(()=>{var n,a;r.value&&((n=u.value)===null||n===void 0||n.event.clearInstanceListeners(r.value),c.value?(a=l.value)===null||a===void 0||a.removeMarker(r.value):r.value.setMap(null))}),r},ae="animation_changed click dblclick rightclick dragstart dragend drag mouseover mousedown mouseout mouseup draggable_changed clickable_changed contextmenu cursor_changed flat_changed rightclick zindex_changed icon_changed position_changed shape_changed title_changed visible_changed".split(" ");var Ae=C({name:"Marker",props:{options:{type:Object,required:!0}},emits:ae,setup(i,{emit:e,expose:t,slots:o}){return i=I(i,"options"),e=R("Marker",ae,i,e),q(ke,e),t({marker:e}),()=>{var r;return(r=o.default)===null||r===void 0?void 0:r.call(o)}}});C({name:"Polyline",props:{options:{type:Object,required:!0}},emits:E,setup(i,{emit:e}){return i=I(i,"options"),{polyline:R("Polyline",E,i,e)}},render:()=>null});var Ne=C({name:"Polygon",props:{options:{type:Object,required:!0}},emits:E,setup(i,{emit:e}){return i=I(i,"options"),{polygon:R("Polygon",E,i,e)}},render:()=>null});let ue=E.concat(["bounds_changed"]);C({name:"Rectangle",props:{options:{type:Object,required:!0}},emits:ue,setup(i,{emit:e}){return i=I(i,"options"),{rectangle:R("Rectangle",ue,i,e)}},render:()=>null});let pe=E.concat(["center_changed","radius_changed"]);C({name:"Circle",props:{options:{type:Object,required:!0}},emits:pe,setup(i,{emit:e}){return i=I(i,"options"),{circle:R("Circle",pe,i,e)}},render:()=>null});var Be=C({props:{position:{type:String,required:!0},index:{type:Number,default:1}},emits:["content:loaded"],setup(i,{emit:e}){let t=m(null),o=_(K,m()),r=_(V,m()),s=_(we,m(!1)),u=m(!1),l=x([s,r,t],([a,p,d])=>{p&&a&&d&&(c(i.position),u.value=!0,e("content:loaded"),setTimeout(l,0))},{immediate:!0}),c=a=>{o.value&&r.value&&t.value&&o.value.controls[r.value.ControlPosition[a]].push(t.value)},n=a=>{if(o.value&&r.value){let p=null;a=r.value.ControlPosition[a],o.value.controls[a].forEach((d,h)=>{d===t.value&&(p=h)}),p!==null&&o.value.controls[a].removeAt(p)}};return L(()=>n(i.position)),x(()=>i.position,(a,p)=>{n(p),c(a)}),x(()=>i.index,a=>{a&&t.value&&(t.value.index=i.index)}),{controlRef:t,showContent:u}}});let Ze={ref:"controlRef"};Be.render=function(i){return O(),S(fe,null,[X(`
    v-show must be used instead of v-if otherwise there
    would be no rendered content pushed to the map controls
  `),Se(w("div",Ze,[$(i.$slots,"default")],512),[[Ee,i.showContent]])],2112)};let ce="closeclick content_changed domready position_changed visible zindex_changed".split(" ");var xe=C({inheritAttrs:!1,props:{options:{type:Object,default:()=>({})}},emits:ce,setup(i,{slots:e,emit:t}){let o=m(),r=m(),s=_(K,m()),u=_(V,m()),l=_(ke,m()),c,n=N(()=>{var a;return(a=e.default)===null||a===void 0?void 0:a.call(e).some(p=>p.type!==ye)});return Y(()=>{x([s,()=>i.options],([,a],[p,d])=>{p=!z(a,d)||s.value!==p,s.value&&u.value&&p&&(o.value?(o.value.setOptions({...a,content:n.value?r.value:a.content}),l.value||o.value.open({map:s.value})):(o.value=M(new u.value.InfoWindow({...a,content:n.value?r.value:a.content})),l.value?c=l.value.addListener("click",()=>{o.value&&o.value.open({map:s.value,anchor:l.value})}):o.value.open({map:s.value}),ce.forEach(h=>{var g;(g=o.value)===null||g===void 0||g.addListener(h,v=>t(h,v))})))},{immediate:!0})}),L(()=>{var a;c&&c.remove(),o.value&&((a=u.value)===null||a===void 0||a.event.clearInstanceListeners(o.value),o.value.close())}),{infoWindow:o,infoWindowRef:r,hasSlotContent:n}}});oe(`
.info-window-wrapper[data-v-5b373d6e] {
  display: none;
}
.mapdiv .info-window-wrapper[data-v-5b373d6e] {
  display: inline-block;
}
`);let $e=J();Q("data-v-5b373d6e");let Fe={key:0,class:"info-window-wrapper"};ee();let Ge=$e(i=>i.hasSlotContent?(O(),S("div",Fe,[w("div",_e({ref:"infoWindowRef"},i.$attrs),[$(i.$slots,"default",{},void 0,!0)],16)])):X("v-if",!0));xe.render=Ge;xe.__scopeId="data-v-5b373d6e";function U(i,e,t,o,r,s){if(!(r-o<=t)){var u=o+r>>1;Me(i,e,u,o,r,s%2),U(i,e,t,o,u-1,s+1),U(i,e,t,u+1,r,s+1)}}function Me(i,e,t,o,r,s){for(;r>o;){if(600<r-o){var u=r-o+1,l=t-o+1,c=Math.log(u),n=.5*Math.exp(2*c/3);c=.5*Math.sqrt(c*n*(u-n)/u)*(0>l-u/2?-1:1),Me(i,e,t,Math.max(o,Math.floor(t-l*n/u+c)),Math.min(r,Math.floor(t+(u-l)*n/u+c)),s)}for(u=e[2*t+s],l=o,n=r,T(i,e,o,t),e[2*r+s]>u&&T(i,e,o,r);l<n;){for(T(i,e,l,n),l++,n--;e[2*l+s]<u;)l++;for(;e[2*n+s]>u;)n--}e[2*o+s]===u?T(i,e,o,n):(n++,T(i,e,n,r)),n<=t&&(o=n+1),t<=n&&(r=n-1)}}function T(i,e,t,o){H(i,t,o),H(e,2*t,2*o),H(e,2*t+1,2*o+1)}function H(i,e,t){let o=i[e];i[e]=i[t],i[t]=o}let He=i=>i[0],Ue=i=>i[1];class de{constructor(e,t=He,o=Ue,r=64,s=Float64Array){this.nodeSize=r,this.points=e;let u=this.ids=new(65536>e.length?Uint16Array:Uint32Array)(e.length);s=this.coords=new s(2*e.length);for(let l=0;l<e.length;l++)u[l]=l,s[2*l]=t(e[l]),s[2*l+1]=o(e[l]);U(u,s,r,0,u.length-1,0)}range(e,t,o,r){{var s=this.ids,u=this.coords,l=this.nodeSize;let n=[0,s.length-1,0],a=[],p,d;for(;n.length;){var c=n.pop();let h=n.pop(),g=n.pop();if(h-g<=l){for(c=g;c<=h;c++)p=u[2*c],d=u[2*c+1],p>=e&&p<=o&&d>=t&&d<=r&&a.push(s[c]);continue}let v=Math.floor((g+h)/2);p=u[2*v],d=u[2*v+1],p>=e&&p<=o&&d>=t&&d<=r&&a.push(s[v]);let y=(c+1)%2;(c===0?e<=p:t<=d)&&(n.push(g),n.push(v-1),n.push(y)),(c===0?o>=p:r>=d)&&(n.push(v+1),n.push(h),n.push(y))}e=a}return e}within(e,t,o){{var r=this.ids,s=this.coords,u=this.nodeSize;let p=[0,r.length-1,0],d=[],h=o*o;for(;p.length;){var l=p.pop();let g=p.pop();var c=p.pop();if(g-c<=u){for(l=c;l<=g;l++){c=s[2*l]-e;var n=s[2*l+1]-t;c=c*c+n*n,c<=h&&d.push(r[l])}continue}n=Math.floor((c+g)/2);let v=s[2*n],y=s[2*n+1];{var a=v-e;let k=y-t;a=a*a+k*k}a<=h&&d.push(r[n]),a=(l+1)%2,(l===0?e-o<=v:t-o<=y)&&(p.push(c),p.push(n-1),p.push(a)),(l===0?e+o>=v:t+o>=y)&&(p.push(n+1),p.push(g),p.push(a))}e=d}return e}}let We={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:i=>i},Z=Math.fround||(i=>e=>(i[0]=+e,i[0]))(new Float32Array(1));class Ye{constructor(e){this.options=j(Object.create(We),e),this.trees=Array(this.options.maxZoom+1)}load(e){let{log:t,minZoom:o,maxZoom:r,nodeSize:s}=this.options;t&&console.time("total time");var u=`prepare ${e.length} points`;t&&console.time(u),this.points=e;let l=[];for(let c=0;c<e.length;c++)e[c].geometry&&l.push(Je(e[c],c));for(this.trees[r+1]=new de(l,me,ge,s,Float32Array),t&&console.timeEnd(u),e=r;e>=o;e--)u=+Date.now(),l=this._cluster(l,e),this.trees[e]=new de(l,me,ge,s,Float32Array),t&&console.log("z%d: %d clusters in %dms",e,l.length,+Date.now()-u);return t&&console.timeEnd("total time"),this}getClusters(e,t){let o=((e[0]+180)%360+360)%360-180;var r=Math.max(-90,Math.min(90,e[1])),s=e[2]===180?180:((e[2]+180)%360+360)%360-180;let u=Math.max(-90,Math.min(90,e[3]));if(360<=e[2]-e[0])o=-180,s=180;else if(o>s){var l=this.getClusters([o,r,180,u],t);return r=this.getClusters([-180,r,s,u],t),l.concat(r)}t=this.trees[this._limitZoom(t)],s=t.range(o/360+.5,A(u),s/360+.5,A(r)),r=[];for(l of s)s=t.points[l],r.push(s.numPoints?he(s):this.points[s.index]);return r}getChildren(e){var t=this._getOriginId(e),o=this._getOriginZoom(e);let r=this.trees[o];if(!r||(t=r.points[t],!t))throw Error("No cluster with the specified id.");t=r.within(t.x,t.y,this.options.radius/(this.options.extent*Math.pow(2,o-1))),o=[];for(let s of t)t=r.points[s],t.parentId===e&&o.push(t.numPoints?he(t):this.points[t.index]);if(o.length===0)throw Error("No cluster with the specified id.");return o}getLeaves(e,t,o){let r=[];return this._appendLeaves(r,e,t||10,o||0,0),r}getTile(e,t,o){let r=this.trees[this._limitZoom(e)];e=Math.pow(2,e);let{extent:s,radius:u}=this.options,l=u/s,c=(o-l)/e,n=(o+1+l)/e,a={features:[]};return this._addTileFeatures(r.range((t-l)/e,c,(t+1+l)/e,n),r.points,t,o,e,a),t===0&&this._addTileFeatures(r.range(1-l/e,c,1,n),r.points,e,o,e,a),t===e-1&&this._addTileFeatures(r.range(0,c,l/e,n),r.points,-1,o,e,a),a.features.length?a:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom&&(e=this.getChildren(e),t++,e.length===1);)e=e[0].properties.cluster_id;return t}_appendLeaves(e,t,o,r,s){t=this.getChildren(t);for(let u of t)if((t=u.properties)&&t.cluster?s=s+t.point_count<=r?s+t.point_count:this._appendLeaves(e,t.cluster_id,o,r,s):s<r?s++:e.push(u),e.length===o)break;return s}_addTileFeatures(e,t,o,r,s,u){for(let n of e){e=t[n];let a=e.numPoints;var l=void 0;let p;var c=void 0;a?(l=be(e),p=e.x,c=e.y):(c=this.points[e.index],l=c.properties,p=c.geometry.coordinates[0]/360+.5,c=A(c.geometry.coordinates[1])),l={type:1,geometry:[[Math.round(this.options.extent*(p*s-o)),Math.round(this.options.extent*(c*s-r))]],tags:l};let d;a?d=e.id:this.options.generateId?d=e.index:this.points[e.index].id&&(d=this.points[e.index].id),d!==void 0&&(l.id=d),u.features.push(l)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){let o=[],{radius:r,extent:s,reduce:u,minPoints:l}=this.options,c=r/(s*Math.pow(2,t));for(let h=0;h<e.length;h++){var n=e[h];if(n.zoom<=t)continue;n.zoom=t;let g=this.trees[t+1];var a=g.within(n.x,n.y,c),p=n.numPoints||1;let v=p;for(let y of a){var d=g.points[y];d.zoom>t&&(v+=d.numPoints||1)}if(v>p&&v>=l){d=n.x*p;let y=n.y*p;p=u&&1<p?this._map(n,!0):null;let k=(h<<5)+(t+1)+this.points.length;for(let se of a){if(a=g.points[se],a.zoom<=t)continue;a.zoom=t;let F=a.numPoints||1;d+=a.x*F,y+=a.y*F,a.parentId=k,u&&(p||(p=this._map(n,!0)),u(p,this._map(a)))}n.parentId=k,o.push(Xe(d/v,y/v,k,v,p))}else if(o.push(n),1<v)for(let y of a)n=g.points[y],n.zoom<=t||(n.zoom=t,o.push(n))}return o}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?j({},e.properties):e.properties;e=this.points[e.index].properties;let o=this.options.map(e);return t&&o===e?j({},o):o}}function Xe(i,e,t,o,r){return{x:Z(i),y:Z(e),zoom:1/0,id:t,parentId:-1,numPoints:o,properties:r}}function Je(i,e){let[t,o]=i.geometry.coordinates;return{x:Z(t/360+.5),y:Z(A(o)),zoom:1/0,index:e,parentId:-1}}function he(i){var e=i.id,t=be(i);return{type:"Feature",id:e,properties:t,geometry:{type:"Point",coordinates:[360*(i.x-.5),360*Math.atan(Math.exp((180-360*i.y)*Math.PI/180))/Math.PI-90]}}}function be(i){let e=i.numPoints,t=1e4<=e?`${Math.round(e/1e3)}k`:1e3<=e?`${Math.round(e/100)/10}k`:e;return j(j({},i.properties),{cluster:!0,cluster_id:i.id,point_count:e,point_count_abbreviated:t})}function A(i){return i=Math.sin(i*Math.PI/180),i=.5-.25*Math.log((1+i)/(1-i))/Math.PI,0>i?0:1<i?1:i}function j(i,e){for(let t in e)i[t]=e[t];return i}function me(i){return i.x}function ge(i){return i.y}class W{constructor({markers:e,position:t}){this.markers=e,t&&(this._position=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t))}get bounds(){if(this.markers.length!==0||this._position)return this.markers.reduce((e,t)=>e.extend(t.getPosition()),new google.maps.LatLngBounds(this._position,this._position))}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>e.getVisible()).length}push(e){this.markers.push(e)}delete(){this.marker&&(this.marker.setMap(null),delete this.marker),this.markers.length=0}}class Qe{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return et(e)}}let et=i=>i.map(e=>new W({position:e.getPosition(),markers:[e]}));class tt extends Qe{constructor(e){var{maxZoom:t,radius:o=60}=e,r=["maxZoom","radius"],s={},u;for(u in e)Object.prototype.hasOwnProperty.call(e,u)&&0>r.indexOf(u)&&(s[u]=e[u]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var l=0;for(u=Object.getOwnPropertySymbols(e);l<u.length;l++)0>r.indexOf(u[l])&&Object.prototype.propertyIsEnumerable.call(e,u[l])&&(s[u[l]]=e[u[l]])}super({maxZoom:t}),this.superCluster=new Ye(Object.assign({maxZoom:this.maxZoom,radius:o},s)),this.state={zoom:null}}calculate(e){let t=!1;if(!z(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var o=this.markers.map(r=>({type:"Feature",geometry:{type:"Point",coordinates:[r.getPosition().lng(),r.getPosition().lat()]},properties:{marker:r}}));this.superCluster.load(o)}return o={zoom:e.map.getZoom()},t||this.state.zoom>this.maxZoom&&o.zoom>this.maxZoom||(t=t||!z(this.state,o)),this.state=o,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(this.transformCluster.bind(this))}transformCluster({geometry:{coordinates:[e,t]},properties:o}){return o.cluster?new W({markers:this.superCluster.getLeaves(o.cluster_id,1/0).map(r=>r.properties.marker),position:new google.maps.LatLng({lat:t,lng:e})}):(e=o.marker,new W({markers:[e],position:e.getPosition()}))}}class ot{constructor(e,t){this.markers={sum:e.length},e=t.map(r=>r.count);let o=e.reduce((r,s)=>r+s,0);this.clusters={count:t.length,markers:{mean:o/t.length,sum:o,min:Math.min(...e),max:Math.max(...e)}}}}class rt{render({count:e,position:t},o){return o=window.btoa(`
  <svg fill="${e>Math.max(10,o.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">
    <circle cx="120" cy="120" opacity=".6" r="70" />
    <circle cx="120" cy="120" opacity=".3" r="90" />
    <circle cx="120" cy="120" opacity=".2" r="110" />
  </svg>`),new google.maps.Marker({position:t,icon:{url:`data:image/svg+xml;base64,${o}`,scaledSize:new google.maps.Size(45,45)},label:{text:String(e),color:"rgba(255,255,255,0.9)",fontSize:"12px"},title:`Cluster of ${e} markers`,zIndex:Number(google.maps.Marker.MAX_ZINDEX)+e})}}class re{constructor(){var e=re,t=google.maps.OverlayView;for(let o in t.prototype)e.prototype[o]=t.prototype[o]}}var P,ie=P||(P={});ie.CLUSTERING_BEGIN="clusteringbegin";ie.CLUSTERING_END="clusteringend";ie.CLUSTER_CLICK="click";let it=(i,e,t)=>{t.fitBounds(e.bounds)};class st extends re{constructor({map:e,markers:t=[],algorithm:o=new tt({}),renderer:r=new rt,onClusterClick:s=it}){super(),this.markers=[...t],this.clusters=[],this.algorithm=o,this.renderer=r,this.onClusterClick=s,e&&this.setMap(e)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(o=>{this.addMarker(o,!0)}),t||this.render()}removeMarker(e,t){let o=this.markers.indexOf(e);return o===-1?!1:(e.setMap(null),this.markers.splice(o,1),t||this.render(),!0)}removeMarkers(e,t){let o=!1;return e.forEach(r=>{o=this.removeMarker(r,!0)||o}),o&&!t&&this.render(),o}clearMarkers(e){this.markers.length=0,e||this.render()}render(){let e=this.getMap();if(e instanceof google.maps.Map&&this.getProjection()){google.maps.event.trigger(this,P.CLUSTERING_BEGIN,this);let{clusters:t,changed:o}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});(o||o==null)&&(this.reset(),this.clusters=t,this.renderClusters()),google.maps.event.trigger(this,P.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>e.setMap(null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){let e=new ot(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(o=>{o.markers.length===1?o.marker=o.markers[0]:(o.marker=this.renderer.render(o,e),this.onClusterClick&&o.marker.addListener("click",r=>{google.maps.event.trigger(this,P.CLUSTER_CLICK,o),this.onClusterClick(r,o,t)})),o.marker.setMap(t)})}}let ve=Object.values(P);C({name:"MarkerCluster",props:{options:{type:Object,default:()=>({})}},emits:ve,setup(i,{emit:e,expose:t,slots:o}){let r=m(),s=_(K,m()),u=_(V,m());return q(Ce,r),x(s,()=>{s.value&&(r.value=M(new st({map:s.value,...i.options})),ve.forEach(l=>{var c;(c=r.value)===null||c===void 0||c.addListener(l,n=>e(l,n))}))},{immediate:!0}),L(()=>{var l;r.value&&((l=u.value)===null||l===void 0||l.event.clearInstanceListeners(r.value),r.value.clearMarkers(),r.value.setMap(null))}),t({markerCluster:r}),()=>{var l;return(l=o.default)===null||l===void 0?void 0:l.call(o)}}});var Oe=C({inheritAttrs:!1,props:{options:{type:Object,required:!0}},setup(i,{slots:e,emit:t}){let o=m(),r=m(),s=N(()=>{var l;return(l=e.default)===null||l===void 0?void 0:l.call(e).some(c=>c.type!==ye)}),u=N(()=>({...i.options,element:o.value}));return Y(()=>{r=R(B,[],u,t)}),{customMarkerRef:o,customMarker:r,hasSlotContent:s}}});oe(`
.custom-marker-wrapper[data-v-b9d5ec8a] {
  display: none;
}
.mapdiv .custom-marker-wrapper[data-v-b9d5ec8a] {
  display: inline-block;
}
`);let lt=J();Q("data-v-b9d5ec8a");let nt={key:0,class:"custom-marker-wrapper"};ee();let at=lt(i=>i.hasSlotContent?(O(),S("div",nt,[w("div",_e({ref:"customMarkerRef",style:{cursor:i.$attrs.onClick?"pointer":void 0}},i.$attrs),[$(i.$slots,"default",{},void 0,!0)],16)])):X("v-if",!0));Oe.render=at;Oe.__scopeId="data-v-b9d5ec8a";C({name:"HeatmapLayer",props:{options:{type:Object,default:()=>({})}},setup(i){let e=m(),t=_(K,m()),o=_(V,m());return x([t,()=>i.options],([,r],[s,u])=>{var l;if(s=!z(r,u)||t.value!==s,t.value&&o.value&&s){if(r=structuredClone(r),r.data&&!(r.data instanceof o.value.MVCArray)){let c=o.value.LatLng;r.data=(l=r.data)===null||l===void 0?void 0:l.map(n=>n instanceof c||"location"in n&&(n.location instanceof c||n.location===null)?n:"location"in n?{...n,location:new c(n.location)}:new c(n))}e.value?e.value.setOptions(r):e.value=M(new o.value.visualization.HeatmapLayer({...r,map:t.value}))}},{immediate:!0}),L(()=>{e.value&&e.value.setMap(null)}),{heatmapLayer:e}},render:()=>null});const ut={components:{Layout:Ve,PageHeader:Re,GoogleMap:te,Marker:Ae,Polygon:Ne},data(){return{title:"Google Maps",items:[{text:"Maps",href:"/"},{text:"Google Maps",active:!0}],markers:[{position:{lat:10,lng:10}},{position:{lat:15,lng:13}}],pov:null,pano:null,edited:null,paths:[[{lat:1.38,lng:103.8},{lat:1.38,lng:103.81},{lat:1.39,lng:103.81},{lat:1.39,lng:103.8}],[{lat:1.382,lng:103.802},{lat:1.382,lng:103.808},{lat:1.388,lng:103.808},{lat:1.388,lng:103.802}]],scope:"usa",geographyConfig:{highlightBorderColor:"#bada55",highlightBorderWidth:3},fills:{Republican:"#CC4731",Democrat:"#306596","Heavy Democrat":"#667FAF","Light Democrat":"#A9C0DE","Heavy Republican":"#CA5E5B","Light Republican":"#EAA9A8",defaultFill:"#EDDC4E"},data:{AZ:{fillKey:"Republican",electoralVotes:5},CO:{fillKey:"Light Democrat",electoralVotes:5},DE:{fillKey:"Democrat",electoralVotes:32},FL:{fillKey:"UNDECIDED",electoralVotes:29},GA:{fillKey:"Republican",electoralVotes:32},HI:{fillKey:"Democrat",electoralVotes:32},ID:{fillKey:"Republican",electoralVotes:32},IL:{fillKey:"Democrat",electoralVotes:32},IN:{fillKey:"Republican",electoralVotes:11},IA:{fillKey:"Light Democrat",electoralVotes:11},KS:{fillKey:"Republican",electoralVotes:32},KY:{fillKey:"Republican",electoralVotes:32},LA:{fillKey:"Republican",electoralVotes:32},MD:{fillKey:"Democrat",electoralVotes:32},ME:{fillKey:"Democrat",electoralVotes:32},MA:{fillKey:"Democrat",electoralVotes:32},MN:{fillKey:"Democrat",electoralVotes:32},MI:{fillKey:"Democrat",electoralVotes:32},MS:{fillKey:"Republican",electoralVotes:32},MO:{fillKey:"Republican",electoralVotes:13},MT:{fillKey:"Republican",electoralVotes:32},NC:{fillKey:"Light Republican",electoralVotes:32},NE:{fillKey:"Republican",electoralVotes:32},NV:{fillKey:"Heavy Democrat",electoralVotes:32},NH:{fillKey:"Light Democrat",electoralVotes:32},NJ:{fillKey:"Democrat",electoralVotes:32},NY:{fillKey:"Democrat",electoralVotes:32},ND:{fillKey:"Republican",electoralVotes:32},NM:{fillKey:"Democrat",electoralVotes:32},OH:{fillKey:"UNDECIDED",electoralVotes:32},OK:{fillKey:"Republican",electoralVotes:32},OR:{fillKey:"Democrat",electoralVotes:32},PA:{fillKey:"Democrat",electoralVotes:32},RI:{fillKey:"Democrat",electoralVotes:32},SC:{fillKey:"Republican",electoralVotes:32},SD:{fillKey:"Republican",electoralVotes:32},TN:{fillKey:"Republican",electoralVotes:32},TX:{fillKey:"Republican",electoralVotes:32},UT:{fillKey:"Republican",electoralVotes:32},WI:{fillKey:"Democrat",electoralVotes:32},VA:{fillKey:"Light Democrat",electoralVotes:32},VT:{fillKey:"Democrat",electoralVotes:32},WA:{fillKey:"Democrat",electoralVotes:32},WV:{fillKey:"Republican",electoralVotes:32},WY:{fillKey:"Republican",electoralVotes:32},CA:{fillKey:"Democrat",electoralVotes:32},CT:{fillKey:"Democrat",electoralVotes:32},AK:{fillKey:"Republican",electoralVotes:32},AR:{fillKey:"Republican",electoralVotes:32},AL:{fillKey:"Republican",electoralVotes:32}},popupData:""}},methods:{updatePov(i){this.pov=i},updatePano(i){this.pano=i},updateEdited(i){let e=[];for(let t=0;t<i.getLength();t++){let o=[];for(let r=0;r<i.getAt(t).getLength();r++){let s=i.getAt(t).getAt(r);o.push({lat:s.lat(),lng:s.lng()})}e.push(o)}this.edited=e}}},pt={class:"row"},ct={class:"col-lg-6"},dt={class:"card"},ht={class:"card-body"},mt=f("h4",{class:"card-title"},"Basic",-1),gt=f("p",{class:"card-title-dsec"},"Example of google maps.",-1),vt={class:"col-lg-6"},ft={class:"card"},yt={class:"card-body"},_t=f("h4",{class:"card-title"},"Markers",-1),kt=f("p",{class:"card-title-dsec"},"Example of google maps.",-1),Ct={class:"row"},wt={class:"col-lg-6"},xt={class:"card"},Mt={class:"card-body"},bt=f("h4",{class:"card-title"},"Polygon Editing",-1),Ot=f("p",{class:"card-title-dsec"},"Example of google maps.",-1),Pt={class:"col-lg-6"},St={class:"card"},Et={class:"card-body"},Lt=f("h4",{class:"card-title"},"Map type",-1),It=f("p",{class:"card-title-dsec"},"Example of google maps.",-1);function Kt(i,e,t,o,r,s){const u=D("PageHeader"),l=D("GoogleMap"),c=D("Marker"),n=D("Polygon"),a=D("Layout");return O(),S(a,null,{default:G(()=>[w(u,{title:r.title,items:r.items},null,8,["title","items"]),f("div",pt,[f("div",ct,[f("div",dt,[f("div",ht,[mt,gt,w(l,{"api-key":"AIzaSyAbvyBxmMbFhrzP9Z8moyYr6dCr-pzjhBE",center:{lat:2,lng:2},zoom:5,style:{height:"300px"}})])])]),f("div",vt,[f("div",ft,[f("div",yt,[_t,kt,w(l,{center:{lat:11,lng:12},zoom:3,style:{height:"300px"}},{default:G(()=>[(O(!0),Ie(fe,null,Ke(r.markers,(p,d)=>(O(),S(c,{key:d,position:p.position,clickable:!0,draggable:!0,onClick:h=>i.center=p.position},null,8,["position","onClick"]))),128))]),_:1})])])])]),f("div",Ct,[f("div",wt,[f("div",xt,[f("div",Mt,[bt,Ot,w(l,{center:{lat:1.38,lng:103.8},zoom:12,style:{height:"300px"}},{default:G(()=>[w(n,{paths:r.paths,editable:!0,onPaths_changed:e[0]||(e[0]=p=>s.updateEdited(p))},null,8,["paths"])]),_:1},8,["center"])])])]),f("div",Pt,[f("div",St,[f("div",Et,[Lt,It,w(l,{center:{lat:4,lng:4},zoom:3,style:{height:"300px"},"map-type-id":"terrain"})])])])])]),_:1})}const zt=Le(ut,[["render",Kt]]);export{zt as default};
